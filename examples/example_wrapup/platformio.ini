[platformio]
default_envs = lilygo-tdongle-s3-st7735

; Common settings shared by all envs
[env]
framework = arduino
monitor_speed = 115200
lib_ldf_mode = deep+

; ===================== ESP32 (classic) =====================

; ESP32 + SSD1306 (I2C)
[env:esp32-ssd1306]
platform = espressif32
board = esp32dev
build_flags =
  -DSGFX_BUS_I2C=1
  -DSGFX_DRV_SSD1306=1
  -DSGFX_W=128
  -DSGFX_H=64
  -DSGFX_ROT=0
  -DSGFX_PIN_SDA=21
  -DSGFX_PIN_SCL=22
  -DSGFX_PIN_RST=-1
  -DSGFX_PIN_BL=-1
  -DSGFX_I2C_ADDR=0x3C
  -DSGFX_I2C_HZ=400000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=1024

; ESP32 + ST7789 (SPI)
[env:esp32-st7789]
platform = espressif32
board = esp32dev
build_flags =
  -DSGFX_BUS_SPI=1
  -DSGFX_DRV_ST7789=1
  -DSGFX_W=240
  -DSGFX_H=240
  -DSGFX_ROT=0
  -DSGFX_PIN_SCK=18
  -DSGFX_PIN_MOSI=23
  -DSGFX_PIN_MISO=-1
  -DSGFX_PIN_CS=5
  -DSGFX_PIN_DC=2
  -DSGFX_PIN_RST=4
  -DSGFX_PIN_BL=15
  -DSGFX_SPI_HZ=40000000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=4096

; ===================== ESP32-S3 =====================

; ESP32-S3 + SSD1306 (I2C)
[env:esp32s3-ssd1306]
platform = espressif32
board = esp32-s3-devkitc-1
build_flags =
  -DSGFX_BUS_I2C=1
  -DSGFX_DRV_SSD1306=1
  -DSGFX_W=128
  -DSGFX_H=64
  -DSGFX_ROT=0
  -DSGFX_PIN_SDA=8
  -DSGFX_PIN_SCL=9
  -DSGFX_PIN_RST=-1
  -DSGFX_PIN_BL=-1
  -DSGFX_I2C_ADDR=0x3C
  -DSGFX_I2C_HZ=400000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=1024

; ESP32-S3 + ST7789 (SPI)
[env:esp32s3-st7789]
platform = espressif32
board = esp32-s3-devkitc-1
build_flags =
  -DSGFX_BUS_SPI=1
  -DSGFX_DRV_ST7789=1
  -DSGFX_W=240
  -DSGFX_H=240
  -DSGFX_ROT=0
  -DSGFX_PIN_SCK=36
  -DSGFX_PIN_MOSI=35
  -DSGFX_PIN_MISO=-1
  -DSGFX_PIN_CS=34
  -DSGFX_PIN_DC=33
  -DSGFX_PIN_RST=38
  -DSGFX_PIN_BL=37
  -DSGFX_SPI_HZ=40000000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=4096

; Heltec WiFi Kit 32 (V3) / WiFi LoRa 32 (V3) + SSD1306 (I2C onboard)
[env:heltec-v3-ssd1306]
platform = espressif32
board = heltec_wifi_kit_32_V3
build_flags =
  -DSGFX_BUS_I2C=1
  -DSGFX_DRV_SSD1306=1
  -DSGFX_W=128
  -DSGFX_H=64
  -DSGFX_ROT=0
  -DSGFX_PIN_SDA=17
  -DSGFX_PIN_SCL=18
  -DSGFX_PIN_RST=21
  -DSGFX_PIN_BL=-1
  -DSGFX_I2C_ADDR=0x3C
  -DSGFX_I2C_HZ=400000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=1024

; M5Stack Cardputer v1.x / ADV â€” ST7789V2 (SPI 240x135)
[env:m5cardputer-st7789]
platform = espressif32
board = esp32-s3-devkitc-1
build_flags =
  -DSGFX_BUS_SPI=1
  -DSGFX_DRV_ST7789=1
  -DSGFX_PIN_SCK=36
  -DSGFX_PIN_MOSI=35
  -DSGFX_PIN_MISO=-1
  -DSGFX_PIN_CS=37
  -DSGFX_PIN_DC=34
  -DSGFX_PIN_RST=33
  -DSGFX_PIN_BL=38
  -DSGFX_SPI_HZ=80000000
  -DSGFX_SPI_CHUNK_BYTES=16384
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=8192
  -DSGFX_W=240
  -DSGFX_H=135
  -DSGFX_ROT=3
  -DSGFX_ST7789_COLSTART=53
  -DSGFX_ST7789_ROWSTART=40
  -DSGFX_DEMO_DOUBLE_FB=1

; LilyGO T-Dongle-S3 + ST7735 (80x160 SPI)
[env:lilygo-tdongle-s3-st7735]
platform = espressif32
board = esp32-s3-devkitc-1
build_flags =
  -DSGFX_BUS_SPI=1
  -DSGFX_DRV_ST7735=1
  -DSGFX_W=160
  -DSGFX_H=80
  -DSGFX_ROT=1
  -DSGFX_PIN_SCK=5
  -DSGFX_PIN_MOSI=3
  -DSGFX_PIN_MISO=-1
  -DSGFX_PIN_CS=4
  -DSGFX_PIN_DC=2
  -DSGFX_PIN_RST=1
  -DSGFX_PIN_BL=37
  -DSGFX_SPI_HZ=80000000
  -DSGFX_SPI_CHUNK_BYTES=16384
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=8192
  -DSGFX_ST7735_COLSTART=26
  -DSGFX_ST7735_ROWSTART=1
  -DSGFX_ST77XX_BGR=1
  -DSGFX_ST77XX_INVERT=0
  -DSGFX_DEMO_DOUBLE_FB=1

; LILYGO T-LoRa Pager (ESP32-S3) + ST7796 (SPI 480x222)
[env:lilygo-tpager-st7796]
platform = espressif32
board = esp32-s3-devkitc-1
build_flags =
  -DSGFX_BUS_SPI=1
  -DSGFX_DRV_ST7796=1
  -DSGFX_W=480
  -DSGFX_H=222
  -DSGFX_ROT=3
  -DSGFX_PIN_SCK=35
  -DSGFX_PIN_MOSI=34
  -DSGFX_PIN_MISO=-1
  -DSGFX_PIN_CS=38
  -DSGFX_PIN_DC=37
  -DSGFX_PIN_RST=-1
  -DSGFX_PIN_BL=42
  -DSGFX_SPI_HZ=80000000
  -DSGFX_SPI_CHUNK_BYTES=16384
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=8192
  -DBOARD_HAS_PSRAM             ; enable PSRAM path for framebuffers
  -DSGFX_DEMO_DOUBLE_FB=0
  -DSGFX_ST7796_BGR=1
  -DSGFX_ST7796_INVERT=0
  -DSGFX_ST7796_COLSTART=49
  -DSGFX_ST7796_ROWSTART=0
  -DSGFX_ST7796_MIRROR_Y=1
; ===================== ESP32-C3 =====================

; ESP32-C3 + SSD1306 (I2C)
[env:esp32c3-ssd1306]
platform = espressif32
board = esp32-c3-devkitm-1
build_flags =
  -DSGFX_BUS_I2C=1
  -DSGFX_DRV_SSD1306=1
  -DSGFX_W=128
  -DSGFX_H=64
  -DSGFX_ROT=0
  -DSGFX_PIN_SDA=8
  -DSGFX_PIN_SCL=9
  -DSGFX_PIN_RST=-1
  -DSGFX_PIN_BL=-1
  -DSGFX_I2C_ADDR=0x3C
  -DSGFX_I2C_HZ=400000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=1024

; ESP32-C3 + ST7789 (SPI)
[env:esp32c3-st7789]
platform = espressif32
board = esp32-c3-devkitm-1
build_flags =
  -DSGFX_BUS_SPI=1
  -DSGFX_DRV_ST7789=1
  -DSGFX_W=240
  -DSGFX_H=240
  -DSGFX_ROT=0
  -DSGFX_PIN_SCK=6
  -DSGFX_PIN_MOSI=7
  -DSGFX_PIN_MISO=-1
  -DSGFX_PIN_CS=10
  -DSGFX_PIN_DC=3
  -DSGFX_PIN_RST=4
  -DSGFX_PIN_BL=5
  -DSGFX_SPI_HZ=32000000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=4096

; ===================== nRF52 (Nordic) =====================

; nRF52-DK (nRF52832) + SSD1306 (I2C)
[env:nrf52dk-ssd1306]
platform = nordicnrf52
board = nrf52_dk
build_flags =
  -DSGFX_BUS_I2C=1
  -DSGFX_DRV_SSD1306=1
  -DSGFX_W=128
  -DSGFX_H=64
  -DSGFX_ROT=0
  -DSGFX_PIN_SDA=SDA
  -DSGFX_PIN_SCL=SCL
  -DSGFX_PIN_RST=-1
  -DSGFX_PIN_BL=-1
  -DSGFX_I2C_ADDR=0x3C
  -DSGFX_I2C_HZ=400000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=1024

; nRF52-DK (nRF52832) + ST7789 (SPI)
[env:nrf52dk-st7789]
platform = nordicnrf52
board = nrf52_dk
build_flags =
  -DSGFX_BUS_SPI=1
  -DSGFX_DRV_ST7789=1
  -DSGFX_W=240
  -DSGFX_H=240
  -DSGFX_ROT=0
  -DSGFX_PIN_SCK=SCK
  -DSGFX_PIN_MOSI=MOSI
  -DSGFX_PIN_MISO=MISO
  -DSGFX_PIN_CS=6
  -DSGFX_PIN_DC=7
  -DSGFX_PIN_RST=8
  -DSGFX_PIN_BL=-1
  -DSGFX_SPI_HZ=24000000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=4096

; ===================== STM32 (Arduino core) =====================

; Bluepill (STM32F103C8) + SSD1306 (I2C)
[env:stm32-bluepill-ssd1306]
platform = ststm32
board = bluepill_f103c8
build_flags =
  -DSGFX_BUS_I2C=1
  -DSGFX_DRV_SSD1306=1
  -DSGFX_W=128
  -DSGFX_H=64
  -DSGFX_ROT=0
  -DSGFX_PIN_SDA=SDA
  -DSGFX_PIN_SCL=SCL
  -DSGFX_PIN_RST=-1
  -DSGFX_PIN_BL=-1
  -DSGFX_I2C_ADDR=0x3C
  -DSGFX_I2C_HZ=400000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=1024

; Bluepill (STM32F103C8) + ST7789 (SPI)
[env:stm32-bluepill-st7789]
platform = ststm32
board = bluepill_f103c8
build_flags =
  -DSGFX_BUS_SPI=1
  -DSGFX_DRV_ST7789=1
  -DSGFX_W=240
  -DSGFX_H=240
  -DSGFX_ROT=0
  -DSGFX_PIN_SCK=SCK
  -DSGFX_PIN_MOSI=MOSI
  -DSGFX_PIN_MISO=MISO
  -DSGFX_PIN_CS=PA4
  -DSGFX_PIN_DC=PA3
  -DSGFX_PIN_RST=PA2
  -DSGFX_PIN_BL=PA1
  -DSGFX_SPI_HZ=36000000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=4096

; Nucleo L476RG + ST7789 (SPI)
[env:stm32-nucleo-l476-st7789]
platform = ststm32
board = nucleo_l476rg
build_flags =
  -DSGFX_BUS_SPI=1
  -DSGFX_DRV_ST7789=1
  -DSGFX_W=240
  -DSGFX_H=240
  -DSGFX_ROT=0
  -DSGFX_PIN_SCK=SCK
  -DSGFX_PIN_MOSI=MOSI
  -DSGFX_PIN_MISO=MISO
  -DSGFX_PIN_CS=PB6
  -DSGFX_PIN_DC=PB7
  -DSGFX_PIN_RST=PB8
  -DSGFX_PIN_BL=PB9
  -DSGFX_SPI_HZ=36000000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=4096

; ===================== RP2040 (Raspberry Pi Pico) =====================

; Pico (RP2040) + SSD1306 (I2C)
[env:rp2040-ssd1306]
platform = raspberrypi
board = pico
build_flags =
  -DSGFX_BUS_I2C=1
  -DSGFX_DRV_SSD1306=1
  -DSGFX_W=128
  -DSGFX_H=64
  -DSGFX_ROT=0
  -DSGFX_PIN_SDA=SDA
  -DSGFX_PIN_SCL=SCL
  -DSGFX_PIN_RST=-1
  -DSGFX_PIN_BL=-1
  -DSGFX_I2C_ADDR=0x3C
  -DSGFX_I2C_HZ=400000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=1024

; Pico (RP2040) + ST7789 (SPI)
[env:rp2040-st7789]
platform = raspberrypi
board = pico
build_flags =
  -DSGFX_BUS_SPI=1
  -DSGFX_DRV_ST7789=1
  -DSGFX_W=240
  -DSGFX_H=240
  -DSGFX_ROT=0
  -DSGFX_PIN_SCK=SCK
  -DSGFX_PIN_MOSI=MOSI
  -DSGFX_PIN_MISO=MISO
  -DSGFX_PIN_CS=5
  -DSGFX_PIN_DC=3
  -DSGFX_PIN_RST=2
  -DSGFX_PIN_BL=4
  -DSGFX_SPI_HZ=32000000
  -DSGFX_HAL_ARDUINO_GENERIC=1
  -DSGFX_SCRATCH_BYTES=4096
